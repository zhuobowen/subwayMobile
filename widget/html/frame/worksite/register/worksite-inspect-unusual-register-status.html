<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>拍照保存页面</title>
    <link rel="stylesheet" type="text/css" href="../../../../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../../../../css/mui.min.css"/>
    <link rel="stylesheet" type="text/css" href="../../../../css/frame/common/media/camera-save.css"/>
</head>
<body>
<ul class="mui-table-view">
    <li class="mui-table-view-cell mui-media" tapmode onclick="fnOpenCamera('unresolved');">
        <a href="javascript:;">
            <img class="mui-media-object mui-pull-left" src="../../../../image/unusual.png">
            <div class="mui-media-body">
                <span class="mui-color-white">工点监护异常未排除</span>
                <p>需继续跟踪监护此异常</p>
            </div>
        </a>
    </li>
    <li class="mui-table-view-cell mui-media" tapmode onclick="fnOpenCamera('resolved');" style="margin-top:2.5rem">
        <a href="javascript:;">
            <img class="mui-media-object mui-pull-left" src="../../../../image/checked.png">
            <div class="mui-media-body">
                <span class="mui-color-white">工点监护异常已排除</span>
                <p>拍摄排除后现场照片</p>
            </div>
        </a>
    </li>
    <img src="../../../../image/delete.png" class="close-btn" tapmode onclick="fnCloseThis()">
</ul>
</body>
<script type="text/javascript" src="../../../../script/api.js"></script>
<script type="text/javascript" src="../../../../script/zepto.min.js"></script>
<script type="text/javascript" src="../../../../script/common.js"></script>
<script type="text/javascript">
    apiready = function () {
        fnInitStyle();
    }

    //打开拍照页面
    function fnOpenCamera(actionName){
        api.openWin({
            name: 'camera-main-win',
            url: 'widget://html/frame/common/media/camera-win.html',
            slidBackEnabled: false,
            pageParam: {
                cameraType: 8,
                actionName: actionName,
                unusualId: api.pageParam.unusualId
            }
        });
        setTimeout(function(){
            api.closeFrame({
                name: api.frameName
            });
        },500)
    }

    //初始化样式
    function fnInitStyle(){
        api.parseTapmode();
        $('body').css('padding-top',api.frameHeight / 3);
        $('.mui-table-view-cell').css('padding-left',api.frameWidth / 8);
    }

    //关闭
    function fnCloseThis(){
        api.closeFrame({
            name: api.frameName
        });
    }
</script>
</html>